# first_training_project

На Джанго создана админка и реализовано 4 end-поинта, обрабатывающие 2 общих запроса по базам пользователей и больниц и 2 детальных запроса по пользователю или больнице. У каждой больницы и пользователя автоматически генерируется id при создании. База данных по пользователю представялет из себя таблицу, где каждая строка хранит данные по одному пользователю: его почта, дата регистрации, кол-во баллов, любимая больница, если есть. база данных по больницам - таблица, где каждая строка содержит информацию по одной больнице, название, город, адрес и кол-во врачей.

Общий end-point users образабывает GET-запросы, выводит список всех пользователей-пациентов, либо только тех, у кого кол-во баллов равно определенному числу или больше или равно какого-то числа. Если в запросе баллы будут переданны в некорректном формате или пользователя с такими баллами нет в базе данных, будет возвращена ошибка.

В деталке user обрабатываются запросы по конкретному пользователю. End-point обрабатывает id в GET-запросе и возвращает данные из базы по пользователю с таким id. Если id передано в некорректном формате или его нет в базе, вернется ошибка. С помощью этого end-point также можно создать нового пользователя, передав в POST-запрос данные по нему. Если данные будует переданы не в полном объеме, то новый пользователь не будут создан и вернется ошибка. Адрес почты используется наряду с id для аутотентификации, если пользователь с таким email уже существует в базе, то новый пользователь создан не будет, вернется ошибка и сообщение, что пользователь стаким именем уже есть. Так как "любимая больница" реализована ерез атрибут ForeingKey, не получится создать пользователя с "любимой больницей", которая не создана в базе больниц, будет возвращена ошибка и сообщение, что больница не найдена. Уже существующего пользователя можно отредактировать: end-point обрабатает PATCH и GET запросы, проверит, есть ли пользователь с таким id и есть ли указанная у него любимая больница в базе: если нет, то вернется ошибка и сообщения. Если с переданными новыми данными по пользователю все ок, то они будут обновлены в базе. Также есть функционал, чтобы удалить пользователя по переданному id. Если id нет в базе, он не передан или он передан в некорректном формате, то вернется ошибка.

Общий end-point по больницам позволяет вернуть на запрос список всех больниц, либо больницы из определенного города или больницы с кол-вом врачей меньше или равно какому-то числу. Передаваемые параметры будут проверены на предмет корректного формата данных, если название города или количество врачей переданы в некорректно, то вернется ошибка.

В деталке hospital обрабатывабтся запросы по конкретной больнице. End-point может обрабатывать GET запрос, в котором передается id больницы и выдать данные по этой больнице. Если id будет передан некорректно или его нет в базе вернется ошибка. К данным по больнице будут добавлены все пользователи, которые отметили её как "любимую". С помощью POST-запроса можно создать в базе новую больницу, для этого требуется передать по ней все данные. Если данных будет не хватать или они будут переданы некорректно, то вернется ошибка. Больницу можно удалить отправив на end-point DELETE-запрос с id, если id не будет передан или будет в некорректном формате, то вернется ошибка. Если больницы с таким id нет, то вернется ошибка. Если больница отмечена у пользователей как "любимая", то вернется ошибка и ее нельзя будует удалить.
